---
---
require(["{{site.baseurl}}/js/mustache.js","{{site.baseurl}}/js/lunr.js","text!{{site.baseurl}}/content/result-list.mustache","text!{{site.baseurl}}/content/result-dropdown.mustache","text!{{site.baseurl}}/content/search-docs.json","text!{{site.baseurl}}/content/search-index.json"],function(e,t,r,n,i,o){function s(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var a=t(function(){this.field("title",{boost:10}),this.field("body"),this.field("tags"),this.field("categories"),this.field("author"),this.field("exerpt"),this.ref("id")}),u=function(t){$("#results-list-container").empty().append(e.to_html(r,{results:t})),$("#results-dropdown-container").empty().append(e.to_html(n,{results:t}))},c=function(e){var t=a.search(e);return t.map(function(e){return w.filter(function(t){return t.id===e.ref})[0]})};window.profile=function(e){console.profile("search"),idx.search(e),console.profileEnd("search")},window.search=function(e){console.time("search"),idx.search(e),console.timeEnd("search")};var l=JSON.parse(o),d=function(e,t){for(var r=0;r<t.length;r++)e.add({id:t[r].id,title:t[r].title,categories:t[r].categories,tags:t[r].tags,exerpt:t[r].exerpt,author:t[r].author,url:t[r].url,date:t[r].date})};console.time("load"),d(a,l.pages),d(a,l.posts),d(a,l.casestudies),d(a,l.courses),d(a,l.documentation),window.idx=d(a,l.resources),console.timeEnd("load");var p=JSON.parse(i).pages.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-university"}}),h=JSON.parse(i).posts.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-feed"}}),f=JSON.parse(i).casestudies.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-university"}}),x=JSON.parse(i).courses.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-university"}}),m=JSON.parse(i).documentation.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-university"}}),v=JSON.parse(i).resources.map(function(e){return{id:e.id,title:e.title,links:e.links,excerpt:e.excerpt,url:e.url,author:e.author,date:e.date,icon:"fa-university"}}),w=p.concat(h);w=w.concat(f),w=w.concat(x),w=w.concat(m),w=w.concat(v),w=w.filter(function(e){return"NaN"!==e.id});var g=s("q");g?($("#search-box").val(g),u(c(g))):u(w),$("a.all").bind("click",function(){u(w),$("input").val("")});var k=function(e){var t;return function(){var r=Array.prototype.slice.call(arguments),n=this;clearTimeout(t),t=setTimeout(function(){e.apply(n,r)},100)}};$("#search-box").bind("keyup",k(function(){var e=$(this).val();1===$("#results-list-container").length?u(c(e)):e.length>2?(u(c(e)),$("#results-dropdown-container").show()):$("#results-dropdown-container").hide()}));var b=!1;$("#search-box").mouseleave(k(function(){b||$("#results-dropdown-container").hide()})),$("#results-dropdown-container").mouseenter(function(){b=!0}),$("#results-dropdown-container").mouseleave(function(){b=!1,$("#results-dropdown-container").hide()})});
